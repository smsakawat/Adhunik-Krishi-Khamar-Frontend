{"ast":null,"code":"import _objectSpread from\"G:/CODE/Development/Projects/Frontend/project_fronend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"G:/CODE/Development/Projects/Frontend/project_fronend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useState}from\"react\";import{useForm}from\"react-hook-form\";import useAuth from\"../../../hooks/useAuth\";import CustomerRating from\"./CustomerRating\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Review=function Review(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useAuth=useAuth(),user=_useAuth.user,notify=_useAuth.notify;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,errors=_useForm.formState.errors;var onSubmit=function onSubmit(data){setError(false);data.rating=value;data.reviewerEmail=user===null||user===void 0?void 0:user.email;if(data.name===\"\"||data.photo===\"\"||data.description===\"\"||data.rating===0||data.rating===null){setError(true);return;}axios.post(\"http://localhost:5000/reviews\",data).then(function(res){if(res.data.insertedId){setValue(0);alert(\"আমরা আপনার পর্যালোচনা প্রশংসা করি\");}});reset();};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",marginTop:\"10px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"48rem\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontWeight:\"bold\",letterSpacing:\"1px\",textAlign:\"center\",margin:\"8px 0\",borderBottom:\"2px solid #15c7e7\",width:\"max-content\"},children:\"\\u09AA\\u09B0\\u09CD\\u09AF\\u09BE\\u09B2\\u09CB\\u099A\\u09A8\\u09BE \\u09A6\\u09BF\\u09A8\"}),/*#__PURE__*/_jsxs(\"form\",{noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit(onSubmit),style:{display:\"felx\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{margin:\"10px 0\"},children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"name\")),{},{// defaultValue={user?.displayName}\nplaceholder:\"\\u0986\\u09AA\\u09A8\\u09BE\\u09B0 \\u09A8\\u09BE\\u09AE\",className:\"input-field\"}))}),/*#__PURE__*/_jsx(\"div\",{style:{margin:\"10px 0\"},children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"photo\")),{},{type:\"url\",placeholder:\"\\u0986\\u09AA\\u09A8\\u09BE\\u09B0 \\u09AB\\u099F\\u09CB'\\u09B0 \\u09B2\\u09BF\\u0982\\u0995\",className:\"input-field\"}))}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({},register(\"description\")),{},{type:\"text\",placeholder:\"\\r \\u0986\\u09AA\\u09A8\\u09BE\\u09B0 \\u09AC\\u09B0\\u09CD\\u09A3\\u09A8\\u09BE\",className:\"input-field\",rows:3,cols:30})),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",letterSpacing:\"2px\"},children:\"\\u09B8\\u09AC \\u0995\\u09CD\\u09B7\\u09C7\\u09A4\\u09CD\\u09B0\\u0997\\u09C1\\u09B2\\u09BF \\u09AA\\u09C2\\u09B0\\u09A3 \\u0995\\u09B0\\u09C1\\u09A8\"}),/*#__PURE__*/_jsx(CustomerRating,{value:value,setValue:setValue}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"\\u099C\\u09AE\\u09BE \\u09A6\\u09BF\\u09A8\",className:\"submit-btn\"})]})]})})})});};export default Review;","map":{"version":3,"sources":["G:/CODE/Development/Projects/Frontend/project_fronend/src/components/Dashboard/Review/Review.js"],"names":["axios","React","useState","useForm","useAuth","CustomerRating","Review","value","setValue","error","setError","user","notify","register","handleSubmit","reset","errors","formState","onSubmit","data","rating","reviewerEmail","email","name","photo","description","post","then","res","insertedId","alert","width","display","justifyContent","alignItems","marginTop","fontWeight","letterSpacing","textAlign","margin","borderBottom","flexDirection","color"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport CustomerRating from \"./CustomerRating\";\r\n\r\nconst Review = () => {\r\n  const [value, setValue] = useState(0);\r\n  const [error, setError] = useState(false);\r\n  const { user, notify } = useAuth();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const onSubmit = (data) => {\r\n    setError(false);\r\n    data.rating = value;\r\n    data.reviewerEmail = user?.email;\r\n    if (\r\n      data.name === \"\" ||\r\n      data.photo === \"\" ||\r\n      data.description === \"\" ||\r\n      data.rating === 0 ||\r\n      data.rating === null\r\n    ) {\r\n      setError(true);\r\n      return;\r\n    }\r\n    axios.post(\"http://localhost:5000/reviews\", data).then((res) => {\r\n      if (res.data.insertedId) {\r\n        setValue(0);\r\n        alert(\"আমরা আপনার পর্যালোচনা প্রশংসা করি\");\r\n      }\r\n    });\r\n\r\n    reset();\r\n  };\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          marginTop: \"10px\",\r\n        }}\r\n      >\r\n        <div style={{ width: \"48rem\" }}>\r\n          <div className=\"form-container\">\r\n            <h2\r\n              style={{\r\n                fontWeight: \"bold\",\r\n                letterSpacing: \"1px\",\r\n                textAlign: \"center\",\r\n                margin: \"8px 0\",\r\n                borderBottom: \"2px solid #15c7e7\",\r\n                width: \"max-content\",\r\n              }}\r\n            >\r\n              পর্যালোচনা দিন\r\n            </h2>\r\n            <form\r\n              noValidate\r\n              autoComplete=\"off\"\r\n              onSubmit={handleSubmit(onSubmit)}\r\n              style={{ display: \"felx\", flexDirection: \"column\" }}\r\n            >\r\n              <div style={{ margin: \"10px 0\" }}>\r\n                <input\r\n                  {...register(\"name\")}\r\n                  // defaultValue={user?.displayName}\r\n                  placeholder=\"আপনার নাম\"\r\n                  className=\"input-field\"\r\n                />\r\n              </div>\r\n\r\n              <div style={{ margin: \"10px 0\" }}>\r\n                <input\r\n                  {...register(\"photo\")}\r\n                  type=\"url\"\r\n                  placeholder=\"আপনার ফটো'র লিংক\"\r\n                  className=\"input-field\"\r\n                />\r\n              </div>\r\n              <textarea\r\n                {...register(\"description\")}\r\n                type=\"text\"\r\n                placeholder=\"\r\n                আপনার বর্ণনা\"\r\n                className=\"input-field\"\r\n                rows={3}\r\n                cols={30}\r\n              />\r\n              {error && (\r\n                <p style={{ color: \"red\", letterSpacing: \"2px\" }}>\r\n                সব ক্ষেত্রগুলি পূরণ করুন\r\n                </p>\r\n              )}\r\n\r\n              <CustomerRating value={value} setValue={setValue} />\r\n              <input type=\"submit\" value=\"জমা দিন\" className=\"submit-btn\" />\r\n\r\n              {/* <input type=\"submit\" value=\"SUBMIT\" className=\"review-btn\" /> */}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Review;\r\n"]},"metadata":{},"sourceType":"module"}