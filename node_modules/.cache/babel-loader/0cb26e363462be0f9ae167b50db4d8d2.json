{"ast":null,"code":"import _slicedToArray from\"G:/CODE/Development/Projects/Frontend/project_fronend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import\"./DashProfile.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DashProfile=function DashProfile(props){var _data$main;var user=props.user;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),userDetails=_useState4[0],setUserDetails=_useState4[1];console.log(userDetails.imgUrl);useEffect(function(){var url=\"http://localhost:5000/users/\".concat(user.email);axios.get(url).then(function(res){setUserDetails(res.data[0]);});},[]);useEffect(function(){axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(userDetails===null||userDetails===void 0?void 0:userDetails.location,\"&appid=2a67c3797591a5470e6cb9ae433854e7\")).then(function(res){setData(res.data);});},[userDetails]);return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"userAvatar\",src:userDetails.imgUrl?userDetails.imgUrl:null,alt:\"\"})}),/*#__PURE__*/_jsxs(\"p\",{style:{lineHeight:\"1.5\",fontSize:\"24px\",color:\"#fff\"},children:[\"Name: \",userDetails.displayName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",userDetails.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Phone: \",userDetails.mobile]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"NidNo: \",userDetails.nidNo]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:\"0.5rem\"},children:[\"Location : \",userDetails.location]}),/*#__PURE__*/_jsx(\"div\",{className:\"location-container\",children:/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:\"0.5rem\",fontSize:\"24px\",color:\"#fff\"},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Temparature:\",\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:\"goldenrod\"},children:((data===null||data===void 0?void 0:(_data$main=data.main)===null||_data$main===void 0?void 0:_data$main.temp)-273.15).toFixed(3)})]}),\"\\xB0C\"]})})]})});};export default DashProfile;","map":{"version":3,"sources":["G:/CODE/Development/Projects/Frontend/project_fronend/src/components/Dashboard/DashProfile/DashProfile.js"],"names":["axios","React","useEffect","useState","DashProfile","props","user","data","setData","userDetails","setUserDetails","console","log","imgUrl","url","email","get","then","res","location","display","justifyContent","alignItems","lineHeight","fontSize","color","displayName","mobile","nidNo","marginBottom","main","temp","toFixed"],"mappings":"4KAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,mBAAP,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,gBAC7B,GAAQC,CAAAA,IAAR,CAAiBD,KAAjB,CAAQC,IAAR,CACA,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eACA,eAAsCL,QAAQ,CAAC,EAAD,CAA9C,yCAAOM,WAAP,eAAoBC,cAApB,eACAC,OAAO,CAACC,GAAR,CAAYH,WAAW,CAACI,MAAxB,EAEAX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,GAAG,uCAAkCR,IAAI,CAACS,KAAvC,CAAT,CACAf,KAAK,CAACgB,GAAN,CAAUF,GAAV,EAAeG,IAAf,CAAoB,SAACC,GAAD,CAAS,CAC3BR,cAAc,CAACQ,GAAG,CAACX,IAAJ,CAAS,CAAT,CAAD,CAAd,CACD,CAFD,EAGD,CALQ,CAKN,EALM,CAAT,CAOAL,SAAS,CAAC,UAAM,CACdF,KAAK,CACFgB,GADH,6DAEyDP,WAFzD,SAEyDA,WAFzD,iBAEyDA,WAAW,CAAEU,QAFtE,6CAIGF,IAJH,CAIQ,SAACC,GAAD,CAAS,CACbV,OAAO,CAACU,GAAG,CAACX,IAAL,CAAP,CACD,CANH,EAOD,CARQ,CAQN,CAACE,WAAD,CARM,CAAT,CASA,mBACE,YACE,KAAK,CAAE,CACLW,OAAO,CAAE,MADJ,CAELC,cAAc,CAAE,QAFX,CAGLC,UAAU,CAAE,QAHP,CADT,uBAOE,oCACE,kCACE,YACE,SAAS,CAAC,YADZ,CAEE,GAAG,CAAEb,WAAW,CAACI,MAAZ,CAAqBJ,WAAW,CAACI,MAAjC,CAA0C,IAFjD,CAGE,GAAG,CAAC,EAHN,EADF,EADF,cAQE,WAAG,KAAK,CAAE,CAAEU,UAAU,CAAE,KAAd,CAAqBC,QAAQ,CAAE,MAA/B,CAAuCC,KAAK,CAAE,MAA9C,CAAV,oBACShB,WAAW,CAACiB,WADrB,GARF,cAWE,+BAAWjB,WAAW,CAACM,KAAvB,GAXF,cAYE,+BAAWN,WAAW,CAACkB,MAAvB,GAZF,cAaE,+BAAWlB,WAAW,CAACmB,KAAvB,GAbF,cAcE,WAAG,KAAK,CAAE,CAAEC,YAAY,CAAE,QAAhB,CAAV,yBACcpB,WAAW,CAACU,QAD1B,GAdF,cAiBE,YAAK,SAAS,CAAC,oBAAf,uBACE,WACE,KAAK,CAAE,CAAEU,YAAY,CAAE,QAAhB,CAA0BL,QAAQ,CAAE,MAApC,CAA4CC,KAAK,CAAE,MAAnD,CADT,wBAGE,uCACe,GADf,cAEE,aAAM,KAAK,CAAE,CAAEA,KAAK,CAAE,WAAT,CAAb,UACG,CAAC,CAAAlB,IAAI,OAAJ,EAAAA,IAAI,SAAJ,oBAAAA,IAAI,CAAEuB,IAAN,gDAAYC,IAAZ,EAAmB,MAApB,EAA4BC,OAA5B,CAAoC,CAApC,CADH,EAFF,GAHF,WADF,EAjBF,GAPF,EADF,CAyCD,CA/DD,CAiEA,cAAe5B,CAAAA,WAAf","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./DashProfile.css\";\r\n\r\nconst DashProfile = (props) => {\r\n  const { user } = props;\r\n  const [data, setData] = useState(\"\");\r\n  const [userDetails, setUserDetails] = useState({});\r\n  console.log(userDetails.imgUrl);\r\n\r\n  useEffect(() => {\r\n    const url = `http://localhost:5000/users/${user.email}`;\r\n    axios.get(url).then((res) => {\r\n      setUserDetails(res.data[0]);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\r\n        `https://api.openweathermap.org/data/2.5/weather?q=${userDetails?.location}&appid=2a67c3797591a5470e6cb9ae433854e7`\r\n      )\r\n      .then((res) => {\r\n        setData(res.data);\r\n      });\r\n  }, [userDetails]);\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <div>\r\n        <div>\r\n          <img\r\n            className=\"userAvatar\"\r\n            src={userDetails.imgUrl ? userDetails.imgUrl : null}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <p style={{ lineHeight: \"1.5\", fontSize: \"24px\", color: \"#fff\" }}>\r\n          Name: {userDetails.displayName}\r\n        </p>\r\n        <p>Email: {userDetails.email}</p>\r\n        <p>Phone: {userDetails.mobile}</p>\r\n        <p>NidNo: {userDetails.nidNo}</p>\r\n        <p style={{ marginBottom: \"0.5rem\" }}>\r\n          Location : {userDetails.location}\r\n        </p>\r\n        <div className=\"location-container\">\r\n          <p\r\n            style={{ marginBottom: \"0.5rem\", fontSize: \"24px\", color: \"#fff\" }}\r\n          >\r\n            <span>\r\n              Temparature:{\" \"}\r\n              <span style={{ color: \"goldenrod\" }}>\r\n                {(data?.main?.temp - 273.15).toFixed(3)}\r\n              </span>\r\n            </span>\r\n            &deg;C\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashProfile;\r\n"]},"metadata":{},"sourceType":"module"}